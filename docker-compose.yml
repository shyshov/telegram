bot:
  build: ./bot
  links:
    - db:mysql
  environment:
    - TELEGRAM_API=<BOT API>
  volumes:
    - /docker_storage/observe/status:/status
  container_name: bot.telegram

checker:
  build: ./checker
  volumes:
    - /docker_storage/observe/ftp:/checker
  links: 
    - db:mysql

db:
  restart: always
  build: ./db
  ports:
    - "3306:3306"
  environment:
    - MYSQL_RANDOM_ROOT_PASSWORD=yes
    - MYSQL_DATABASE=<DATABASE NAME>
    - MYSQL_USER=<DATABASE USER>
    - MYSQL_PASSWORD=<DATABASE PASSWORD>
  volumes:
    - /docker_storage/observe/db:/var/lib/mysql
    - /docker_storage/observe/status:/status
    - ./db/init.dump/:/docker-entrypoint-initdb.d
  container_name: db.telegram
